(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[460],{1357:function(e,t,s){Promise.resolve().then(s.bind(s,9780))},9780:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return A}});var l=s(8232),a=s(3837),n=s(8330),r=s(7137),i=s.n(r),o=s(3995),c=s(1680),d=s(2265),m=s(8065);let x=e=>{let{original:t,restored:s}=e;return(0,l.jsx)(m.vx,{itemOne:(0,l.jsx)(m.ps,{src:t,alt:"original photo"}),itemTwo:(0,l.jsx)(m.ps,{src:s,alt:"generated photo"}),portrait:!0,className:"flex w-[600px] mt-5 h-96"})};var h=s(2108),u=s.n(h),f=s(5980);function p(){return(0,l.jsx)("header",{className:"flex flex-col items-center justify-between w-full gap-2 px-2 mt-3 border-b border-gray-500 xs:flex-row pb-7 sm:px-4",children:(0,l.jsxs)(u(),{href:"/",className:"flex space-x-2",children:[(0,l.jsx)(f.nhS,{className:"w-10 h-10 text-amber-600"}),(0,l.jsxs)("h1",{className:"ml-2 text-xl font-bold tracking-tight text-blue-500 sm:text-3xl",children:["Cus",(0,l.jsx)("span",{className:"font-bold",children:"Room"}),"."]})]})})}var g=s(4183),j=s.n(g);let b=e=>{let{color:t="#000",style:s="small"}=e;return(0,l.jsxs)("span",{className:"small"==s?j().loading2:j().loading,children:[(0,l.jsx)("span",{style:{backgroundColor:t}}),(0,l.jsx)("span",{style:{backgroundColor:t}}),(0,l.jsx)("span",{style:{backgroundColor:t}})]})};b.defaultProps={style:"small"};var w=s(1963);function v(e){let{children:t}=e,[s,{height:a}]=(0,w.Z)();return(0,l.jsx)(n.E.div,{animate:a?{height:a}:{},style:a?{height:a}:{},className:"relative w-full overflow-hidden",transition:{type:"tween",duration:.5},children:(0,l.jsx)("div",{ref:s,className:a?"absolute inset-x-0":"relative",children:t})})}var y=s(1620);function N(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function _(e){let{sideBySide:t,setSideBySide:s,...a}=e;return(0,l.jsx)(y.r.Group,{as:"div",...a,children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"text-sm mr-3 font-medium ".concat(t?"text-gray-500":"text-white"),children:"Side by Side"}),(0,l.jsx)(y.r,{checked:t,onChange:s,className:N(t?"bg-blue-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none "),children:(0,l.jsx)("span",{"aria-hidden":"true",className:N(t?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})}),(0,l.jsx)(y.r.Label,{as:"span",className:"ml-3",children:(0,l.jsx)("span",{className:"text-sm font-medium ".concat(t?"text-white":"text-gray-500"," "),children:"Compare"})})]})})}var k=s(3236),C=s(9239),S=s(7510),L=s(3521),T=s(343);function U(e){let{theme:t,setTheme:s,themes:a}=e;return(0,l.jsxs)(k.v,{as:"div",className:"relative block text-left",children:[(0,l.jsx)("div",{children:(0,l.jsxs)(k.v.Button,{className:"inline-flex w-full justify-between items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-black",children:[t,(0,l.jsx)(S.Z,{className:"-mr-1 ml-2 h-5 w-5 ui-open:hidden","aria-hidden":"true"}),(0,l.jsx)(L.Z,{className:"-mr-1 ml-2 h-5 w-5 hidden ui-open:block","aria-hidden":"true"})]})}),(0,l.jsx)(C.u,{as:o.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,l.jsx)(k.v.Items,{className:"absolute left-0 z-10 mt-2 w-full origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none overflow-hidden",children:(0,l.jsx)("div",{className:"",children:a.map(e=>(0,l.jsx)(k.v.Item,{children:a=>{let{active:n}=a;return(0,l.jsxs)("button",{onClick:()=>s(e),className:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}(n?"bg-gray-100 text-gray-900":"text-gray-700",e===t?"bg-gray-200":"","px-4 py-2 text-sm w-full text-left flex items-center space-x-2 justify-between"),children:[(0,l.jsx)("span",{children:e}),e===t?(0,l.jsx)(T.Z,{className:"w-4 h-4 text-bold"}):null]})}},e))})},t)})]})}let B=["Modern","Minimalist","Professional","Tropical","Vintage"],O=["Living Room","Dining Room","Office","Bedroom","Bathroom","Gaming Room"];var E=s(6278);let P=(0,d.Uploader)({apiKey:E.env.NEXT_PUBLIC_UPLOAD_API_KEY?E.env.NEXT_PUBLIC_UPLOAD_API_KEY:"free"}),R={maxFileCount:1,mimeTypes:["image/jpeg","image/png","image/jpg"],editor:{images:{crop:!1}},styles:{colors:{primary:"#2563EB",error:"#d23f4d",shade100:"#fff",shade200:"#fffe",shade300:"#fffd",shade400:"#fffc",shade500:"#fff9",shade600:"#fff7",shade700:"#fff2",shade800:"#fff1",shade900:"#ffff"}}};function A(){let[e,t]=(0,o.useState)(null),[s,r]=(0,o.useState)(null),[d,m]=(0,o.useState)(!1),[h,u]=(0,o.useState)(!1),[f,g]=(0,o.useState)(!1),[j,w]=(0,o.useState)(null),[y,N]=(0,o.useState)(null),[k,C]=(0,o.useState)("Modern"),[S,L]=(0,o.useState)("Living Room");async function T(e){await new Promise(e=>setTimeout(e,200)),m(!0);let t=await fetch("/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:e,theme:k,room:S})}),s=await t.json();200!==t.status?w(s):r(s[1]),setTimeout(()=>{m(!1)},1300)}return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center max-w-6xl min-h-screen py-2 mx-auto",children:[(0,l.jsx)(p,{}),(0,l.jsxs)("main",{className:"flex flex-col items-center justify-center flex-1 w-full px-4 mt-4 mb-8 text-center sm:mb-0",children:[(0,l.jsxs)("h1",{className:"max-w-4xl mx-auto mb-5 text-4xl font-bold tracking-normal font-display text-slate-100 sm:text-6xl",children:["Generate your ",(0,l.jsx)("span",{className:"text-blue-600",children:"dream"})," room"]}),(0,l.jsx)(v,{children:(0,l.jsx)(a.M,{mode:"wait",children:(0,l.jsxs)(n.E.div,{className:"flex flex-col items-center justify-between w-full mt-4",children:[!s&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"w-full max-w-sm space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center mt-3 space-x-3",children:[(0,l.jsx)(i(),{src:"/number-1-white.svg",width:30,height:30,alt:"1 icon"}),(0,l.jsx)("p",{className:"font-medium text-left",children:"Choose your room theme."})]}),(0,l.jsx)(U,{theme:k,setTheme:e=>C(e),themes:B})]}),(0,l.jsxs)("div",{className:"w-full max-w-sm space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center mt-10 space-x-3",children:[(0,l.jsx)(i(),{src:"/number-2-white.svg",width:30,height:30,alt:"1 icon"}),(0,l.jsx)("p",{className:"font-medium text-left",children:"Choose your room type."})]}),(0,l.jsx)(U,{theme:S,setTheme:e=>L(e),themes:O})]}),(0,l.jsx)("div",{className:"w-full max-w-sm mt-4",children:(0,l.jsxs)("div",{className:"flex items-center mt-6 space-x-3 w-96",children:[(0,l.jsx)(i(),{src:"/number-3-white.svg",width:30,height:30,alt:"1 icon"}),(0,l.jsx)("p",{className:"font-medium text-left",children:"Upload a picture of your room."})]})})]}),s&&(0,l.jsxs)("div",{children:["Here's your remodeled ",(0,l.jsx)("b",{children:S.toLowerCase()})," in the"," ",(0,l.jsx)("b",{children:k.toLowerCase()})," theme!"," "]}),(0,l.jsx)("div",{className:"".concat(h?"visible mt-6 -ml-8":"invisible"),children:(0,l.jsx)(_,{className:"".concat(h?"visible mb-6":"invisible"),sideBySide:f,setSideBySide:e=>g(e)})}),h&&f&&(0,l.jsx)(x,{original:e,restored:s}),!e&&(0,l.jsx)(()=>(0,l.jsx)(c.UploadDropzone,{uploader:P,options:R,onUpdate:e=>{0!==e.length&&(N(e[0].originalFile.originalFileName),t(e[0].fileUrl.replace("raw","thumbnail")),T(e[0].fileUrl.replace("raw","thumbnail")))},width:"670px",height:"250px"}),{}),e&&!s&&(0,l.jsx)(i(),{alt:"original photo",src:e,className:"rounded-2xl h-96",width:475,height:475}),s&&e&&!f&&(0,l.jsxs)("div",{className:"flex flex-col sm:space-x-4 sm:flex-row",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"mb-1 text-lg font-medium",children:"Original Room"}),(0,l.jsx)(i(),{alt:"original photo",src:e,className:"relative w-full rounded-2xl h-96",width:475,height:475})]}),(0,l.jsxs)("div",{className:"mt-8 sm:mt-0",children:[(0,l.jsx)("h2",{className:"mb-1 text-lg font-medium",children:"Generated Room"}),(0,l.jsx)("a",{href:s,target:"_blank",rel:"noreferrer",children:(0,l.jsx)(i(),{alt:"restored photo",src:s,className:"relative w-full mt-2 rounded-2xl sm:mt-0 cursor-zoom-in h-96",width:475,height:475,onLoadingComplete:()=>u(!0)})})]})]}),d&&(0,l.jsx)("button",{disabled:!0,className:"w-40 px-4 pt-2 pb-3 mt-8 font-medium text-white bg-blue-500 rounded-full",children:(0,l.jsx)("span",{className:"pt-4",children:(0,l.jsx)(b,{color:"white",style:"large"})})}),j&&(0,l.jsx)("div",{className:"px-4 py-3 mt-8 text-red-700 bg-red-100 border border-red-400 rounded-xl",role:"alert",children:(0,l.jsx)("span",{className:"block sm:inline",children:j})}),(0,l.jsxs)("div",{className:"flex justify-center space-x-2",children:[e&&!d&&(0,l.jsx)("button",{onClick:()=>{t(null),r(null),u(!1),w(null)},className:"px-4 py-2 mt-8 font-medium text-white transition bg-blue-500 rounded-full hover:bg-blue-500/80",children:"Generate New Room"}),h&&(0,l.jsx)("button",{onClick:()=>{let e;!function(e,t){fetch(e,{headers:new Headers({Origin:location.origin}),mode:"cors"}).then(e=>e.blob()).then(e=>{var s;let l;s=window.URL.createObjectURL(e),(l=document.createElement("a")).download=t,l.href=s,document.body.appendChild(l),l.click(),l.remove()}).catch(e=>console.error(e))}(s,(e=y.indexOf("."),y.substring(0,e).concat("-new",y.substring(e))))},className:"px-4 py-2 mt-8 font-medium text-black transition bg-white border rounded-full hover:bg-gray-100",children:"Download Generated Room"})]})]})})})]})]})}},4183:function(e){e.exports={loading:"loading-dots_loading__LomzL",spacer:"loading-dots_spacer__nBBvk",blink:"loading-dots_blink__yy72w",loading2:"loading-dots_loading2___zCAu"}}},function(e){e.O(0,[770,66,2,793,737,920,744],function(){return e(e.s=1357)}),_N_E=e.O()}]);